{"ast":null,"code":"import React,{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import LoadingBox from\"./LoadingBox\";import{listProducts,deleteProduct}from\"../Actions/productActions\";import MessageBox from\"./MessageBox\";import{PRODUCT_DELETE_RESET}from\"../Constants/productConstant\";export default function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});//you get \"productList\" from the store which got it fro Reducers\nvar loading=productList.loading,error=productList.error,products=productList.products;var productDelete=useSelector(function(state){return state.productDelete;});//you get \"productList\" from the store which got it fro Reducers\nvar loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var dispatch=useDispatch();useEffect(function(){if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());//you get \"listProduct\" from Actions\n},[dispatch,successDelete]);var deleteHandeler=function deleteHandeler(product){if(window.confirm('Are you sure my dear you wanna delete this product?')){dispatch(deleteProduct(product._id));}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",margin:\"1%\"}},/*#__PURE__*/React.createElement(\"h2\",{style:{textAlign:\"center\",marginTop:\"11%\"}},\"Products\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return props.history.push(\"/productup\");},style:{fontFamily:\"Bungee Hairline\",marginTop:\"11%\"},className:\"small\"},\"Create product\")),loadingDelete&&/*#__PURE__*/React.createElement(LoadingBox,null),\";\",errorDelete&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorDelete),loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(\"div\",{className:\"artistBigContainer\"/* style={{marginTop:\"10%\"}} */},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"NAME\"),/*#__PURE__*/React.createElement(\"th\",null,\"CATEGORY\"),/*#__PURE__*/React.createElement(\"th\",null,\"DESCRIPTION\"),/*#__PURE__*/React.createElement(\"th\",null,\"PRICE\"),/*#__PURE__*/React.createElement(\"th\",null,\"IN STOCK\"),/*#__PURE__*/React.createElement(\"th\",null,\"RATING\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,products.map(function(product){return/*#__PURE__*/React.createElement(\"tr\",{key:product._id},/*#__PURE__*/React.createElement(\"td\",null,product._id),/*#__PURE__*/React.createElement(\"td\",null,product.name),/*#__PURE__*/React.createElement(\"td\",null,product.category),/*#__PURE__*/React.createElement(\"td\",null,product.description),/*#__PURE__*/React.createElement(\"td\",null,product.price),/*#__PURE__*/React.createElement(\"td\",null,product.countInStock),/*#__PURE__*/React.createElement(\"td\",null,product.rating),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{style:{fontFamily:\"Bungee Hairline\"},className:\"small\",type:\"button\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{style:{fontFamily:\"Bungee Hairline\"},className:\"small\",type:\"button\",onClick:function onClick(){return deleteHandeler(product);}},\"Delete\")));})))));}","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/ProductListScreen.js"],"names":["React","useEffect","useSelector","useDispatch","LoadingBox","listProducts","deleteProduct","MessageBox","PRODUCT_DELETE_RESET","ProductListScreen","props","productList","state","loading","error","products","productDelete","loadingDelete","errorDelete","successDelete","success","dispatch","type","deleteHandeler","product","window","confirm","_id","display","justifyContent","margin","textAlign","marginTop","history","push","fontFamily","map","name","category","description","price","countInStock","rating"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport LoadingBox from \"./LoadingBox\";\nimport { listProducts, deleteProduct } from \"../Actions/productActions\";\nimport MessageBox from \"./MessageBox\";\nimport { PRODUCT_DELETE_RESET } from \"../Constants/productConstant\";\n\nexport default function ProductListScreen(props) {\n  const productList = useSelector((state) => state.productList); //you get \"productList\" from the store which got it fro Reducers\n  const { loading, error, products } = productList;\n  const productDelete = useSelector((state) => state.productDelete); //you get \"productList\" from the store which got it fro Reducers\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = productDelete;\n  const dispatch = useDispatch();\n  useEffect(() => {\n   \n    if (successDelete) {\n      dispatch({ type: PRODUCT_DELETE_RESET });\n    }\n    dispatch(listProducts()); //you get \"listProduct\" from Actions\n  }, [dispatch, successDelete]);\n  const deleteHandeler = (product) => {\n    if(window.confirm('Are you sure my dear you wanna delete this product?')){\n      dispatch(deleteProduct(product._id));\n    }\n  };\n\n  return (\n    <div>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          margin: \"1%\",\n        }}\n      >\n        <h2 style={{ textAlign: \"center\", marginTop: \"11%\" }}>Products</h2>\n        <button\n          type=\"button\"\n          onClick={() => props.history.push(`/productup`)}\n          style={{ fontFamily: \"Bungee Hairline\", marginTop: \"11%\" }}\n          className=\"small\"\n        >\n          Create product\n        </button>\n      </div>\n      {loadingDelete && <LoadingBox></LoadingBox>};\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant=\"danger\">{error}</MessageBox>\n      ) : (\n        <div className=\"artistBigContainer\" /* style={{marginTop:\"10%\"}} */>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>NAME</th>\n                <th>CATEGORY</th>\n                <th>DESCRIPTION</th>\n                <th>PRICE</th>\n                <th>IN STOCK</th>\n                <th>RATING</th>\n                <th>ACTIONS</th>\n              </tr>\n            </thead>\n            <tbody>\n              {products.map((product) => (\n                <tr key={product._id}>\n                  <td>{product._id}</td>\n                  <td>{product.name}</td>\n                  <td>{product.category}</td>\n                  <td>{product.description}</td>\n                  <td>{product.price}</td>\n                  <td>{product.countInStock}</td>\n                  <td>{product.rating}</td>\n                  <td>\n                    <button\n                      style={{ fontFamily: \"Bungee Hairline\" }}\n                      className=\"small\"\n                      type=\"button\"\n                      onClick={() =>\n                        props.history.push(`/product/${product._id}/edit`)\n                      }\n                    >\n                      Edit\n                    </button>\n                    <button\n                      style={{ fontFamily: \"Bungee Hairline\" }}\n                      className=\"small\"\n                      type=\"button\"\n                      onClick={() => deleteHandeler(product)}\n                    >\n                      Delete\n                    </button>\n                  </td>\n\n                  {/*  <td>\n                  <button\n                  style={{fontFamily: \"Bungee Hairline\"}}\n                    type=\"button\"\n                    className=\"small\"\n                    onClick={() => {\n                      props.history.push(`/order/${order._id}`);\n                    }}\n                  >\n                    Details\n                  </button>\n                </td> */}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}