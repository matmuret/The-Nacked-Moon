{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = require(\"react\");\n\nvar util_1 = require(\"./util\");\n\nvar getConnection = function () {\n  if (typeof navigator !== 'object') {\n    return null;\n  }\n\n  var nav = navigator;\n  return nav.connection || nav.mozConnection || nav.webkitConnection;\n};\n\nvar getConnectionState = function () {\n  var connection = getConnection();\n\n  if (!connection) {\n    return {};\n  }\n\n  var downlink = connection.downlink,\n      downlinkMax = connection.downlinkMax,\n      effectiveType = connection.effectiveType,\n      type = connection.type,\n      rtt = connection.rtt;\n  return {\n    downlink: downlink,\n    downlinkMax: downlinkMax,\n    effectiveType: effectiveType,\n    type: type,\n    rtt: rtt\n  };\n};\n\nvar useNetwork = function (initialState) {\n  if (initialState === void 0) {\n    initialState = {};\n  }\n\n  var _a = react_1.useState(initialState),\n      state = _a[0],\n      setState = _a[1];\n\n  react_1.useEffect(function () {\n    var localState = state;\n\n    var localSetState = function (patch) {\n      localState = tslib_1.__assign(tslib_1.__assign({}, localState), patch);\n      setState(localState);\n    };\n\n    var connection = getConnection();\n\n    var onOnline = function () {\n      localSetState({\n        online: true,\n        since: new Date()\n      });\n    };\n\n    var onOffline = function () {\n      localSetState({\n        online: false,\n        since: new Date()\n      });\n    };\n\n    var onConnectionChange = function () {\n      localSetState(getConnectionState());\n    };\n\n    util_1.on(window, 'online', onOnline);\n    util_1.on(window, 'offline', onOffline);\n\n    if (connection) {\n      util_1.on(connection, 'change', onConnectionChange);\n      localSetState(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, state), {\n        online: navigator.onLine,\n        since: undefined\n      }), getConnectionState()));\n    }\n\n    return function () {\n      util_1.off(window, 'online', onOnline);\n      util_1.off(window, 'offline', onOffline);\n\n      if (connection) {\n        util_1.off(connection, 'change', onConnectionChange);\n      }\n    };\n  }, []);\n  return state;\n};\n\nexports.default = useNetwork;","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/react-use/lib/useNetwork.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","util_1","getConnection","navigator","nav","connection","mozConnection","webkitConnection","getConnectionState","downlink","downlinkMax","effectiveType","type","rtt","useNetwork","initialState","_a","useState","state","setState","useEffect","localState","localSetState","patch","__assign","onOnline","online","since","Date","onOffline","onConnectionChange","on","window","onLine","undefined","off","default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar util_1 = require(\"./util\");\nvar getConnection = function () {\n    if (typeof navigator !== 'object') {\n        return null;\n    }\n    var nav = navigator;\n    return nav.connection || nav.mozConnection || nav.webkitConnection;\n};\nvar getConnectionState = function () {\n    var connection = getConnection();\n    if (!connection) {\n        return {};\n    }\n    var downlink = connection.downlink, downlinkMax = connection.downlinkMax, effectiveType = connection.effectiveType, type = connection.type, rtt = connection.rtt;\n    return {\n        downlink: downlink,\n        downlinkMax: downlinkMax,\n        effectiveType: effectiveType,\n        type: type,\n        rtt: rtt,\n    };\n};\nvar useNetwork = function (initialState) {\n    if (initialState === void 0) { initialState = {}; }\n    var _a = react_1.useState(initialState), state = _a[0], setState = _a[1];\n    react_1.useEffect(function () {\n        var localState = state;\n        var localSetState = function (patch) {\n            localState = tslib_1.__assign(tslib_1.__assign({}, localState), patch);\n            setState(localState);\n        };\n        var connection = getConnection();\n        var onOnline = function () {\n            localSetState({\n                online: true,\n                since: new Date(),\n            });\n        };\n        var onOffline = function () {\n            localSetState({\n                online: false,\n                since: new Date(),\n            });\n        };\n        var onConnectionChange = function () {\n            localSetState(getConnectionState());\n        };\n        util_1.on(window, 'online', onOnline);\n        util_1.on(window, 'offline', onOffline);\n        if (connection) {\n            util_1.on(connection, 'change', onConnectionChange);\n            localSetState(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, state), { online: navigator.onLine, since: undefined }), getConnectionState()));\n        }\n        return function () {\n            util_1.off(window, 'online', onOnline);\n            util_1.off(window, 'offline', onOffline);\n            if (connection) {\n                util_1.off(connection, 'change', onConnectionChange);\n            }\n        };\n    }, []);\n    return state;\n};\nexports.default = useNetwork;\n"]},"metadata":{},"sourceType":"script"}