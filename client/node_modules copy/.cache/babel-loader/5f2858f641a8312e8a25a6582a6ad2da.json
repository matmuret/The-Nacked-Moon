{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar util_1 = require(\"./util\");\n\nvar noop = function () {};\n\nvar usePermission = function (permissionDesc) {\n  var mounted = true;\n  var permissionStatus = null;\n\n  var _a = react_1.useState(''),\n      state = _a[0],\n      setState = _a[1];\n\n  var onChange = function () {\n    if (mounted && permissionStatus) {\n      setState(permissionStatus.state);\n    }\n  };\n\n  var changeState = function () {\n    onChange();\n    util_1.on(permissionStatus, 'change', onChange);\n  };\n\n  react_1.useEffect(function () {\n    navigator.permissions.query(permissionDesc).then(function (status) {\n      permissionStatus = status;\n      changeState();\n    }).catch(noop);\n    return function () {\n      mounted = false;\n      permissionStatus && util_1.off(permissionStatus, 'change', onChange);\n    };\n  }, []);\n  return state;\n};\n\nexports.default = usePermission;","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/react-use/lib/usePermission.js"],"names":["Object","defineProperty","exports","value","react_1","require","util_1","noop","usePermission","permissionDesc","mounted","permissionStatus","_a","useState","state","setState","onChange","changeState","on","useEffect","navigator","permissions","query","then","status","catch","off","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIE,IAAI,GAAG,YAAY,CAAG,CAA1B;;AACA,IAAIC,aAAa,GAAG,UAAUC,cAAV,EAA0B;AAC1C,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,gBAAgB,GAAG,IAAvB;;AACA,MAAIC,EAAE,GAAGR,OAAO,CAACS,QAAR,CAAiB,EAAjB,CAAT;AAAA,MAA+BC,KAAK,GAAGF,EAAE,CAAC,CAAD,CAAzC;AAAA,MAA8CG,QAAQ,GAAGH,EAAE,CAAC,CAAD,CAA3D;;AACA,MAAII,QAAQ,GAAG,YAAY;AACvB,QAAIN,OAAO,IAAIC,gBAAf,EAAiC;AAC7BI,MAAAA,QAAQ,CAACJ,gBAAgB,CAACG,KAAlB,CAAR;AACH;AACJ,GAJD;;AAKA,MAAIG,WAAW,GAAG,YAAY;AAC1BD,IAAAA,QAAQ;AACRV,IAAAA,MAAM,CAACY,EAAP,CAAUP,gBAAV,EAA4B,QAA5B,EAAsCK,QAAtC;AACH,GAHD;;AAIAZ,EAAAA,OAAO,CAACe,SAAR,CAAkB,YAAY;AAC1BC,IAAAA,SAAS,CAACC,WAAV,CACKC,KADL,CACWb,cADX,EAEKc,IAFL,CAEU,UAAUC,MAAV,EAAkB;AACxBb,MAAAA,gBAAgB,GAAGa,MAAnB;AACAP,MAAAA,WAAW;AACd,KALD,EAMKQ,KANL,CAMWlB,IANX;AAOA,WAAO,YAAY;AACfG,MAAAA,OAAO,GAAG,KAAV;AACAC,MAAAA,gBAAgB,IAAIL,MAAM,CAACoB,GAAP,CAAWf,gBAAX,EAA6B,QAA7B,EAAuCK,QAAvC,CAApB;AACH,KAHD;AAIH,GAZD,EAYG,EAZH;AAaA,SAAOF,KAAP;AACH,CA3BD;;AA4BAZ,OAAO,CAACyB,OAAR,GAAkBnB,aAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar util_1 = require(\"./util\");\nvar noop = function () { };\nvar usePermission = function (permissionDesc) {\n    var mounted = true;\n    var permissionStatus = null;\n    var _a = react_1.useState(''), state = _a[0], setState = _a[1];\n    var onChange = function () {\n        if (mounted && permissionStatus) {\n            setState(permissionStatus.state);\n        }\n    };\n    var changeState = function () {\n        onChange();\n        util_1.on(permissionStatus, 'change', onChange);\n    };\n    react_1.useEffect(function () {\n        navigator.permissions\n            .query(permissionDesc)\n            .then(function (status) {\n            permissionStatus = status;\n            changeState();\n        })\n            .catch(noop);\n        return function () {\n            mounted = false;\n            permissionStatus && util_1.off(permissionStatus, 'change', onChange);\n        };\n    }, []);\n    return state;\n};\nexports.default = usePermission;\n"]},"metadata":{},"sourceType":"script"}