{"ast":null,"code":"var _jsxFileName = \"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/CartScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { addToCart, removeFromCart } from \"../Actions/cartActions\";\nimport MessageBox from \"./MessageBox\";\nexport default function CartScreen(props) {\n  _s();\n\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split(\"=\")[1]) : 1;\n  const cart = useSelector(state => state.cart);\n  const userSignIn = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignIn;\n  const {\n    cartItems\n  } = cart;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandeler = id => {\n    dispatch(removeFromCart(id));\n  };\n\n  const checkoutHandeler = () => {\n    if (userInfo) {\n      props.history.push(`/Shipping`);\n    } else {\n      props.history.push(`/SignIn`);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"authContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"subtotal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, \"Shopping Cart\"), cartItems.lenght === 0 ? /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Cart is empty\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 28\n    }\n  }, \"Go Shopping!\")) : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"smallCart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: `${process.env.PUBLIC_URL}/images/${item.image}`,\n    alt: item.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/Shop/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, item.name))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cartSelect\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }\n  }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 27\n    }\n  }, x + 1)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 23\n    }\n  }, item.price, \" \\u20AC\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => removeFromCartHandeler(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Delete\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Subtotal(\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"inCart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, cartItems.reduce((a, c) => a + c.qty, 0), \" in cart)\"), \":\", cartItems.reduce((a, c) => a + c.price * c.qty, 0), \" \\u20AC\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: checkoutHandeler,\n    className: \"primary block\",\n    disabled: cartItems.lenght === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"Proceed to checkout\"))))))));\n}\n\n_s(CartScreen, \"0Pci38jE5M1krB0yLCpjYD6lkSs=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","addToCart","removeFromCart","MessageBox","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","cart","state","userSignIn","userSignin","userInfo","cartItems","dispatch","removeFromCartHandeler","checkoutHandeler","history","push","lenght","map","item","product","process","env","PUBLIC_URL","image","name","e","target","value","Array","countInStock","keys","x","price","reduce","a","c"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { addToCart, removeFromCart } from \"../Actions/cartActions\";\nimport MessageBox from \"./MessageBox\";\n\nexport default function CartScreen(props) {\n  const productId = props.match.params.id;\n  const qty = props.location.search\n    ? Number(props.location.search.split(\"=\")[1])\n    : 1;\n  const cart = useSelector((state) => state.cart);\n  const userSignIn = useSelector((state) => state.userSignin);\n  const { userInfo } = userSignIn;\n  const { cartItems } = cart;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandeler = (id) => {\n    dispatch(removeFromCart(id));\n  };\n  const checkoutHandeler = () => {\n    if (userInfo) {\n      props.history.push(`/Shipping`);\n    } else {\n      props.history.push(`/SignIn`);\n    }\n  };\n  return (\n    <div className=\"authContainer\">\n      <div className=\"form2\">\n        <div className=\"subtotal\">\n          <div>\n          <h2>Shopping Cart</h2>\n          {cartItems.lenght === 0 ? (\n            <MessageBox>\n              Cart is empty<Link to=\"/\">Go Shopping!</Link>\n            </MessageBox>\n          ) : (\n            <ul>\n              {cartItems.map((item) => (\n                <li key={item.product}>\n                  <div className=\"row\">\n                    <div className=\"smallCart\">\n                      <img\n                        src={`${process.env.PUBLIC_URL}/images/${item.image}`}\n                        alt={item.name}\n                      ></img>\n                    </div>\n                    <div className=\"min-30\">\n                      <Link to={`/Shop/${item.product}`}>\n                        <h3>{item.name}</h3>\n                      </Link>\n                    </div>\n                    <div className=\"cartSelect\">\n                      <select\n                        value={item.qty}\n                        onChange={(e) =>\n                          dispatch(\n                            addToCart(item.product, Number(e.target.value))\n                          )\n                        }\n                      >\n                        {[...Array(item.countInStock).keys()].map((x) => (\n                          <option key={x + 1} value={x + 1}>\n                            {x + 1}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <h2>{item.price} €</h2>\n                    </div>\n                    <div>\n                      <button\n                        type=\"button\"\n                        onClick={() => removeFromCartHandeler(item.product)}\n                      >\n                        <h3>Delete</h3>\n                      </button>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      \n          <div className=\"card card-body\">\n            <ul>\n              <li>\n                <h2>\n                  Subtotal(\n                  <span className=\"inCart\">\n                    {cartItems.reduce((a, c) => a + c.qty, 0)} in cart)\n                  </span>\n                  :{cartItems.reduce((a, c) => a + c.price * c.qty, 0)} €\n                </h2>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={checkoutHandeler}\n                  className=\"primary block\"\n                  disabled={cartItems.lenght === 0}\n                >\n                  <h3>Proceed to checkout</h3>\n                </button>\n              </li>\n            </ul>\n          </div>\n          </div>\n       \n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}