{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createGlobalState = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = require(\"react\");\n\nvar useEffectOnce_1 = tslib_1.__importDefault(require(\"./useEffectOnce\"));\n\nvar useIsomorphicLayoutEffect_1 = tslib_1.__importDefault(require(\"./useIsomorphicLayoutEffect\"));\n\nfunction createGlobalState(initialState) {\n  var store = {\n    state: initialState,\n    setState: function (state) {\n      store.state = state;\n      store.setters.forEach(function (setter) {\n        return setter(store.state);\n      });\n    },\n    setters: []\n  };\n  return function () {\n    var _a = react_1.useState(store.state),\n        globalState = _a[0],\n        stateSetter = _a[1];\n\n    useEffectOnce_1.default(function () {\n      return function () {\n        store.setters = store.setters.filter(function (setter) {\n          return setter !== stateSetter;\n        });\n      };\n    });\n    useIsomorphicLayoutEffect_1.default(function () {\n      if (!store.setters.includes(stateSetter)) {\n        store.setters.push(stateSetter);\n      }\n    });\n    return [globalState, store.setState];\n  };\n}\n\nexports.createGlobalState = createGlobalState;\nexports.default = createGlobalState;","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/react-use/lib/createGlobalState.js"],"names":["Object","defineProperty","exports","value","createGlobalState","tslib_1","require","react_1","useEffectOnce_1","__importDefault","useIsomorphicLayoutEffect_1","initialState","store","state","setState","setters","forEach","setter","_a","useState","globalState","stateSetter","default","filter","includes","push"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,iBAAR,GAA4B,KAAK,CAAjC;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIE,eAAe,GAAGH,OAAO,CAACI,eAAR,CAAwBH,OAAO,CAAC,iBAAD,CAA/B,CAAtB;;AACA,IAAII,2BAA2B,GAAGL,OAAO,CAACI,eAAR,CAAwBH,OAAO,CAAC,6BAAD,CAA/B,CAAlC;;AACA,SAASF,iBAAT,CAA2BO,YAA3B,EAAyC;AACrC,MAAIC,KAAK,GAAG;AACRC,IAAAA,KAAK,EAAEF,YADC;AAERG,IAAAA,QAAQ,EAAE,UAAUD,KAAV,EAAiB;AACvBD,MAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACAD,MAAAA,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsB,UAAUC,MAAV,EAAkB;AAAE,eAAOA,MAAM,CAACL,KAAK,CAACC,KAAP,CAAb;AAA6B,OAAvE;AACH,KALO;AAMRE,IAAAA,OAAO,EAAE;AAND,GAAZ;AAQA,SAAO,YAAY;AACf,QAAIG,EAAE,GAAGX,OAAO,CAACY,QAAR,CAAiBP,KAAK,CAACC,KAAvB,CAAT;AAAA,QAAwCO,WAAW,GAAGF,EAAE,CAAC,CAAD,CAAxD;AAAA,QAA6DG,WAAW,GAAGH,EAAE,CAAC,CAAD,CAA7E;;AACAV,IAAAA,eAAe,CAACc,OAAhB,CAAwB,YAAY;AAAE,aAAO,YAAY;AACrDV,QAAAA,KAAK,CAACG,OAAN,GAAgBH,KAAK,CAACG,OAAN,CAAcQ,MAAd,CAAqB,UAAUN,MAAV,EAAkB;AAAE,iBAAOA,MAAM,KAAKI,WAAlB;AAAgC,SAAzE,CAAhB;AACH,OAFqC;AAElC,KAFJ;AAGAX,IAAAA,2BAA2B,CAACY,OAA5B,CAAoC,YAAY;AAC5C,UAAI,CAACV,KAAK,CAACG,OAAN,CAAcS,QAAd,CAAuBH,WAAvB,CAAL,EAA0C;AACtCT,QAAAA,KAAK,CAACG,OAAN,CAAcU,IAAd,CAAmBJ,WAAnB;AACH;AACJ,KAJD;AAKA,WAAO,CAACD,WAAD,EAAcR,KAAK,CAACE,QAApB,CAAP;AACH,GAXD;AAYH;;AACDZ,OAAO,CAACE,iBAAR,GAA4BA,iBAA5B;AACAF,OAAO,CAACoB,OAAR,GAAkBlB,iBAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createGlobalState = void 0;\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useEffectOnce_1 = tslib_1.__importDefault(require(\"./useEffectOnce\"));\nvar useIsomorphicLayoutEffect_1 = tslib_1.__importDefault(require(\"./useIsomorphicLayoutEffect\"));\nfunction createGlobalState(initialState) {\n    var store = {\n        state: initialState,\n        setState: function (state) {\n            store.state = state;\n            store.setters.forEach(function (setter) { return setter(store.state); });\n        },\n        setters: [],\n    };\n    return function () {\n        var _a = react_1.useState(store.state), globalState = _a[0], stateSetter = _a[1];\n        useEffectOnce_1.default(function () { return function () {\n            store.setters = store.setters.filter(function (setter) { return setter !== stateSetter; });\n        }; });\n        useIsomorphicLayoutEffect_1.default(function () {\n            if (!store.setters.includes(stateSetter)) {\n                store.setters.push(stateSetter);\n            }\n        });\n        return [globalState, store.setState];\n    };\n}\nexports.createGlobalState = createGlobalState;\nexports.default = createGlobalState;\n"]},"metadata":{},"sourceType":"script"}