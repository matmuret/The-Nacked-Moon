{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    position: relative;\\n    overflow: hidden;\\n    width: 50%;\\n    height: 20vh;\\n    margin: auto;\\n  \"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Fragment,useEffect,useContext}from'react';import{useLocation}from'react-router-dom';import Fade from'react-reveal/Fade';import MyContext from'../Context/MyContext.js';import Carousel from'react-multi-carousel';import'react-multi-carousel/lib/styles.css';import styled,{css}from'styled-components';export default function Category(props){var _useContext=useContext(MyContext),getData=_useContext.getData,setGetData=_useContext.setGetData;var location=useLocation();var params=new URLSearchParams(location.search);var name=params.get('name');useEffect(function(){var getResult=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,albums;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5000/api/albumup/bycategory?name=\".concat(name));case 3:res=_context.sent;_context.next=6;return res.json();case 6:albums=_context.sent;console.log(albums);setGetData(albums);_context.next=13;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getResult(){return _ref.apply(this,arguments);};}();getResult();},[]);var goToAlbum=function goToAlbum(){props.history.push(\"/albumedit\");};var goToCreateAlbum=function goToCreateAlbum(){props.history.push(\"/category/createalbum\");};var Container=styled.div(_templateObject());var responsive={desktop:{breakpoint:{max:3000,min:1024},items:5,slidesToSlide:3// optional, default to 1.\n},tablet:{breakpoint:{max:1024,min:464},items:4,slidesToSlide:2// optional, default to 1.\n},mobile:{breakpoint:{max:464,min:0},items:2,slidesToSlide:1// optional, default to 1.\n}};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Fade,{bottom:true,cascade:true},/*#__PURE__*/React.createElement(\"div\",{onClick:goToAlbum},/*#__PURE__*/React.createElement(\"h1\",{className:\"VisionTitle\"},\"Albums in \",/*#__PURE__*/React.createElement(\"span\",{style:{color:'red'}},name),\" category:\",/*#__PURE__*/React.createElement(\"br\",null),\" click on the album to edit\",' ')),/*#__PURE__*/React.createElement(\"div\",{style:{width:'100vw',display:'flex',flexFlow:'row',justifyContent:'center'}},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return props.history.push(\"/createalbum/category?name=\".concat(name));},style:{width:'30%'}},/*#__PURE__*/React.createElement(\"h3\",null,\"Add a new Album\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"visionsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"visionsDescriptions\"},getData&&getData.map(function(album){return/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){props.history.push(\"/albumdelete/\".concat(album._id));}},/*#__PURE__*/React.createElement(\"h3\",{key:album._id},album.albumName),/*#__PURE__*/React.createElement(Carousel,{swipeable:true,draggable:true,showDots:false,responsive:responsive,infinite:true,autoPlay:true,autoPlaySpeed:1500,keyBoardControl:true,customTransition:\"all .5\",transitionDuration:500,containerClass:\"carousel-container2\",removeArrowOnDeviceType:['tablet','mobile','desktop'],dotListClass:\"custom-dot-list-style\",itemClass:\"carousel-item-padding-40-px\"},album.images.map(function(url){return/*#__PURE__*/React.createElement(\"img\",{src:url,key:url});})));})))));}","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/Category.js"],"names":["React","Fragment","useEffect","useContext","useLocation","Fade","MyContext","Carousel","styled","css","Category","props","getData","setGetData","location","params","URLSearchParams","search","name","get","getResult","fetch","res","json","albums","console","log","goToAlbum","history","push","goToCreateAlbum","Container","div","responsive","desktop","breakpoint","max","min","items","slidesToSlide","tablet","mobile","color","width","display","flexFlow","justifyContent","map","album","_id","albumName","images","url"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useContext } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Fade from 'react-reveal/Fade';\nimport MyContext from '../Context/MyContext.js';\nimport Carousel from 'react-multi-carousel';\nimport 'react-multi-carousel/lib/styles.css';\nimport styled, { css } from 'styled-components';\n\nexport default function Category(props) {\n  const { getData, setGetData } = useContext(MyContext);\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const name = params.get('name');\n\n  useEffect(() => {\n    const getResult = async () => {\n      try {\n        const res = await fetch(\n          `http://localhost:5000/api/albumup/bycategory?name=${name}`\n        );\n        const albums = await res.json();\n        console.log(albums);\n        setGetData(albums);\n      } catch (err) {}\n    };\n    getResult();\n  }, []);\n\n  const goToAlbum = () => {\n    props.history.push(`/albumedit`);\n  };\n  const goToCreateAlbum = () => {\n    props.history.push(`/category/createalbum`);\n  };\n  const Container = styled.div`\n    position: relative;\n    overflow: hidden;\n    width: 50%;\n    height: 20vh;\n    margin: auto;\n  `;\n  const responsive = {\n    desktop: {\n      breakpoint: { max: 3000, min: 1024 },\n      items: 5,\n      slidesToSlide: 3, // optional, default to 1.\n    },\n    tablet: {\n      breakpoint: { max: 1024, min: 464 },\n      items: 4,\n      slidesToSlide: 2, // optional, default to 1.\n    },\n    mobile: {\n      breakpoint: { max: 464, min: 0 },\n      items: 2,\n      slidesToSlide: 1, // optional, default to 1.\n    },\n  };\n  return (\n    <Fragment>\n      <Fade bottom cascade={true}>\n        <div onClick={goToAlbum}>\n          <h1 className='VisionTitle'>\n            Albums in <span style={{ color: 'red' }}>{name}</span> category:\n            <br></br> click on the album to edit{' '}\n          </h1>\n        </div>\n        <div\n          style={{\n            width: '100vw',\n            display: 'flex',\n            flexFlow: 'row',\n            justifyContent: 'center',\n          }}\n        >\n          <button onClick={()=>props.history.push(`/createalbum/category?name=${name}`)} style={{ width: '30%' }}>\n            <h3>Add a new Album</h3>\n          </button>\n        </div>\n\n        <div className='visionsContainer'>\n          <div className='visionsDescriptions'>\n            {getData &&\n              getData.map((album) => {\n                return (\n                  <div\n                    onClick={() => {\n                      props.history.push(`/albumdelete/${album._id}`);\n                    }}\n                  >\n                    <h3 key={album._id}>{album.albumName}</h3>\n                    <Carousel\n                      swipeable={true}\n                      draggable={true}\n                      showDots={false}\n                      responsive={responsive}\n                      infinite={true}\n                      autoPlay={true}\n                      autoPlaySpeed={1500}\n                      keyBoardControl={true}\n                      customTransition='all .5'\n                      transitionDuration={500}\n                      containerClass='carousel-container2'\n                      removeArrowOnDeviceType={['tablet', 'mobile', 'desktop']}\n                      dotListClass='custom-dot-list-style'\n                      itemClass='carousel-item-padding-40-px'\n                    >\n                      {album.images.map((url) => {\n                        return <img src={url} key={url} />;\n                      })}\n                    </Carousel>\n                  </div>\n                );\n              })}\n          </div>\n        </div>\n      </Fade>\n    </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}