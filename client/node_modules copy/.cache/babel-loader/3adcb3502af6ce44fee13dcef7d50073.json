{"ast":null,"code":"import _slicedToArray from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import{Link}from'react-router-dom';/* import dataShop from \"../db/dataShop\"; */import Rating from'./Rating';import{useSelector,useDispatch}from'react-redux';import LoadingBox from'./LoadingBox';import MessageBox from'./MessageBox';import{detailsProduct}from'../Actions/productActions';export default function ProductScreen(props){/* const product = dataShop.products.find(\n    (x) => x._id === props.match.params.id //this value is the one the user inserts\n  ); */var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCartHandeler=function addToCartHandeler(){props.history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};var signout=function signout(){};return/*#__PURE__*/React.createElement(Fragment,null,loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(\"div\",{className:\"row top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"large\",src:product.image,alt:product.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h2\",null,product.name)),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Rating,{rating:product.rating,numReviews:product.numReviews})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h2\",null,product.price,\" \\u20AC\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Description:\"),/*#__PURE__*/React.createElement(\"p\",null,product.description)))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Price\")),/*#__PURE__*/React.createElement(\"div\",{className:\"price\"},/*#__PURE__*/React.createElement(\"h3\",null,product.price,\" \\u20AC\")))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",null,product.countInStock>0?/*#__PURE__*/React.createElement(\"span\",{className:\"success\"},/*#__PURE__*/React.createElement(\"h3\",null,\"In stock\")):/*#__PURE__*/React.createElement(\"span\",{className:\"error\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Unavailable\"))))),product.countInStock>0&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",null),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:addToCartHandeler,className:\"primary block\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Add to Cart\")))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/Shop\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"BackButton\"},\"Back to the Shop\"))))))));}","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/ProductScreen.js"],"names":["React","Fragment","useEffect","useState","Link","Rating","useSelector","useDispatch","LoadingBox","MessageBox","detailsProduct","ProductScreen","props","dispatch","productId","match","params","id","qty","setQty","productDetails","state","loading","error","product","addToCartHandeler","history","push","signout","image","name","rating","numReviews","price","description","countInStock"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n/* import dataShop from \"../db/dataShop\"; */\nimport Rating from './Rating';\nimport { useSelector, useDispatch } from 'react-redux';\nimport LoadingBox from './LoadingBox';\nimport MessageBox from './MessageBox';\nimport { detailsProduct } from '../Actions/productActions';\n\nexport default function ProductScreen(props) {\n  /* const product = dataShop.products.find(\n    (x) => x._id === props.match.params.id //this value is the one the user inserts\n  ); */\n  const dispatch = useDispatch();\n  const productId = props.match.params.id;\n  const [qty, setQty] = useState(1);\n  const productDetails = useSelector((state) => state.productDetails);\n  const { loading, error, product } = productDetails;\n\n  useEffect(() => {\n    dispatch(detailsProduct(productId));\n  }, [dispatch, productId]);\n  const addToCartHandeler = () => {\n    props.history.push(`/cart/${productId}?qty=${qty}`);\n  };\n  const signout = () => {};\n\n  return (\n    <Fragment>\n      {loading ? (\n        <LoadingBox></LoadingBox>\n      ) : error ? (\n        <MessageBox variant='danger'>{error}</MessageBox>\n      ) : (\n        <div className='row top'>\n          <div className='col-2'>\n            <img className='large' src={product.image} alt={product.name} />\n          </div>\n          <div className='col-1'>\n            <ul>\n              <li>\n                <h2>{product.name}</h2>\n              </li>\n              <li>\n                <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\n              </li>\n              <li>\n                <h2>{product.price} €</h2>\n              </li>\n              <li>\n                <h2>Description:</h2>\n                <p>{product.description}</p>\n              </li>\n            </ul>\n          </div>\n\n          <div className='col-1'>\n            <div className='card card-body'>\n              <ul>\n                <li>\n                  <div className='row'>\n                    <div>\n                      <h3>Price</h3>\n                    </div>\n\n                    <div className='price'>\n                      <h3>{product.price} €</h3>\n                    </div>\n                  </div>\n                </li>\n                <li>\n                  <div className='row'>\n                    {/* <div><h2>Status: </h2></div>\n                <br/> */}\n                    <div>\n                      {product.countInStock > 0 ? (\n                        <span className='success'>\n                          <h3>In stock</h3>\n                        </span>\n                      ) : (\n                        <span className='error'>\n                          <h3>Unavailable</h3>\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </li>\n                {product.countInStock > 0 && (\n                  <>\n                    <li>\n                      {/* <div className=\"row\">\n                       <div><p>Quantity</p></div>\n                      <div>\n                      <select value={qty} onChange={e => setQty(e.target.value)}>\n                        {[\n                          ...Array(product.countInStock).keys()\n                        ].map(x=>(<option key={ x+1 } value={ x+1 }>{x+1}</option>))\n                        }\n                      </select>\n                      </div>\n                      </div> */}\n                    </li>\n                    <li>\n                      <button onClick={addToCartHandeler} className='primary block'>\n                        <h2>Add to Cart</h2>\n                      </button>\n                    </li>\n                  </>\n                )}\n\n                <li>\n                  <Link to='/Shop'>\n                    <h3 className='BackButton'>Back to the Shop</h3>\n                  </Link>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}