{"ast":null,"code":"import _defineProperty from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{useForm}from\"react-hook-form\";import Fade from\"react-reveal/Fade\";export default function Phototup(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;// initialize the hook\nvar onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var formData,key,res,fromApi;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(data.albumName&&data.albumName.length>0){data.albumName=data.albumName[0];}formData=new FormData();for(key in data){formData.append(key,data[key]);}_context.next=5;return fetch(\"http://localhost:5000/api/photoup\",{method:\"POST\",body:formData});case 5:res=_context.sent;_context.next=8;return res.json();case 8:fromApi=_context.sent;alert(JSON.stringify(res));console.log(fromApi);case 11:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Fade,{bottom:true,cascade:true},/*#__PURE__*/React.createElement(\"div\",{className:\"authContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form2\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h3\",null,\" Album Name\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"albumName\",ref:register({required:true})}),errors.albumName&&\"Name of the Album is required.\",/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Category\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"category\",ref:register({required:true})}),errors.category&&\"Category of the Album is required.\",/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Description\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"description\",ref:register({required:true})}),errors.description&&\"Description is required.\",/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Upload\")),/*#__PURE__*/React.createElement(\"input\",_defineProperty({name:\"image\",ref:register,required:true,type:\"file\"},\"name\",\"image\")),errors.image&&/*#__PURE__*/React.createElement(\"p\",null,errors.image.message),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Submit\"))))));}","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/Photoup.js"],"names":["React","useForm","Fade","Phototup","register","handleSubmit","errors","onSubmit","data","albumName","length","formData","FormData","key","append","fetch","method","body","res","json","fromApi","alert","JSON","stringify","console","log","required","category","description","image","message"],"mappings":"2hBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,cACUF,OAAO,EADjB,CACzBG,QADyB,UACzBA,QADyB,CACfC,YADe,UACfA,YADe,CACDC,MADC,UACDA,MADC,CACqB;AAEtD,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,+IACf,GAAIA,IAAI,CAACC,SAAL,EAAkBD,IAAI,CAACC,SAAL,CAAeC,MAAf,CAAwB,CAA9C,CAAiD,CAC7CF,IAAI,CAACC,SAAL,CAAiBD,IAAI,CAACC,SAAL,CAAe,CAAf,CAAjB,CACD,CACKE,QAJO,CAII,GAAIC,CAAAA,QAAJ,EAJJ,CAKb,IAASC,GAAT,GAAgBL,CAAAA,IAAhB,CAAsB,CACpBG,QAAQ,CAACG,MAAT,CAAgBD,GAAhB,CAAqBL,IAAI,CAACK,GAAD,CAAzB,EACD,CAPY,sBASKE,CAAAA,KAAK,CAAC,mCAAD,CAAsC,CAC3DC,MAAM,CAAE,MADmD,CAE3DC,IAAI,CAAEN,QAFqD,CAAtC,CATV,QASPO,GATO,qCAaSA,CAAAA,GAAG,CAACC,IAAJ,EAbT,QAaPC,OAbO,eAcbC,KAAK,CAACC,IAAI,CAACC,SAAL,CAAeL,GAAf,CAAD,CAAL,CACAM,OAAO,CAACC,GAAR,CAAYL,OAAZ,EAfa,uDAAH,kBAARb,CAAAA,QAAQ,4CAAd,CAkBA,mBACE,oBAAC,IAAD,EAAM,MAAM,KAAZ,CAAa,OAAO,CAAE,IAAtB,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eAGE,4BAAM,QAAQ,CAAEF,YAAY,CAACE,QAAD,CAA5B,eACE,8CACE,4CADF,CADF,cAIE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,GAAG,CAAEH,QAAQ,CAAC,CAAEsB,QAAQ,CAAE,IAAZ,CAAD,CAAjD,EAJF,CAKGpB,MAAM,CAACG,SAAP,EAAoB,gCALvB,cAME,8CACE,yCADF,CANF,cASE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,GAAG,CAAEL,QAAQ,CAAC,CAAEsB,QAAQ,CAAE,IAAZ,CAAD,CAAhD,EATF,CAUGpB,MAAM,CAACqB,QAAP,EAAmB,oCAVtB,cAWE,8CACE,4CADF,CAXF,cAcE,6BACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,aAFP,CAGE,GAAG,CAAEvB,QAAQ,CAAC,CAAEsB,QAAQ,CAAE,IAAZ,CAAD,CAHf,EAdF,CAmBGpB,MAAM,CAACsB,WAAP,EAAsB,0BAnBzB,cAoBE,8CACE,uCADF,CApBF,cAuBE,6CACE,IAAI,CAAC,OADP,CAEE,GAAG,CAAExB,QAFP,CAGE,QAAQ,KAHV,CAIE,IAAI,CAAC,MAJP,SAKO,OALP,EAvBF,CA8BGE,MAAM,CAACuB,KAAP,eAAgB,6BAAIvB,MAAM,CAACuB,KAAP,CAAaC,OAAjB,CA9BnB,cA+BE,8BA/BF,cAgCE,+CACE,uCADF,CAhCF,CAHF,CADF,CADF,CADF,CA8CD","sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Fade from \"react-reveal/Fade\";\n\nexport default function Phototup() {\n  const { register, handleSubmit, errors } = useForm(); // initialize the hook\n\n  const onSubmit = async (data) => {\n    if (data.albumName && data.albumName.length > 0) {\n        data.albumName = data.albumName[0];\n      }\n      const formData = new FormData();\n      for (let key in data) {\n        formData.append(key, data[key]);\n      }\n  \n      const res = await fetch(\"http://localhost:5000/api/photoup\", {\n        method: \"POST\",\n        body: formData,\n      });\n      const fromApi = await res.json();\n      alert(JSON.stringify(res));\n      console.log(fromApi);\n    };\n\n  return (\n    <Fade bottom cascade={true}>\n      <div className=\"authContainer\">\n        <div className=\"form2\">\n\n          \n          <form onSubmit={handleSubmit(onSubmit)}>\n            <label>\n              <h3> Album Name</h3>\n            </label>\n            <input type=\"text\" name=\"albumName\" ref={register({ required: true })} />\n            {errors.albumName && \"Name of the Album is required.\"}\n            <label>\n              <h3>Category</h3>\n            </label>\n            <input type=\"text\" name=\"category\" ref={register({ required: true })} />\n            {errors.category && \"Category of the Album is required.\"}\n            <label>\n              <h3>Description</h3>\n            </label>\n            <input\n              type=\"text\"\n              name=\"description\"\n              ref={register({ required: true })}\n            />\n            {errors.description && \"Description is required.\"}\n            <label>\n              <h3>Upload</h3>\n            </label>\n            <input\n              name=\"image\"\n              ref={register}\n              required\n              type=\"file\"\n              name=\"image\"\n            />\n            {errors.image && <p>{errors.image.message}</p>}\n            <br></br>\n            <button>\n              <h3>Submit</h3>\n            </button>\n          </form>\n        </div>\n      </div>\n    </Fade>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}