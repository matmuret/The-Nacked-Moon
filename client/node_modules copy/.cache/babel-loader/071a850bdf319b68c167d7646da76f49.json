{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = require(\"react\");\n\nvar useMountedState_1 = tslib_1.__importDefault(require(\"./useMountedState\"));\n\nfunction useAsyncFn(fn, deps, initialState) {\n  if (deps === void 0) {\n    deps = [];\n  }\n\n  if (initialState === void 0) {\n    initialState = {\n      loading: false\n    };\n  }\n\n  var lastCallId = react_1.useRef(0);\n  var isMounted = useMountedState_1.default();\n\n  var _a = react_1.useState(initialState),\n      state = _a[0],\n      set = _a[1];\n\n  var callback = react_1.useCallback(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var callId = ++lastCallId.current;\n    set(function (prevState) {\n      return tslib_1.__assign(tslib_1.__assign({}, prevState), {\n        loading: true\n      });\n    });\n    return fn.apply(void 0, args).then(function (value) {\n      isMounted() && callId === lastCallId.current && set({\n        value: value,\n        loading: false\n      });\n      return value;\n    }, function (error) {\n      isMounted() && callId === lastCallId.current && set({\n        error: error,\n        loading: false\n      });\n      return error;\n    });\n  }, deps);\n  return [state, callback];\n}\n\nexports.default = useAsyncFn;","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/react-use/lib/useAsyncFn.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","useMountedState_1","__importDefault","useAsyncFn","fn","deps","initialState","loading","lastCallId","useRef","isMounted","default","_a","useState","state","set","callback","useCallback","args","_i","arguments","length","callId","current","prevState","__assign","apply","then","error"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIE,iBAAiB,GAAGH,OAAO,CAACI,eAAR,CAAwBH,OAAO,CAAC,mBAAD,CAA/B,CAAxB;;AACA,SAASI,UAAT,CAAoBC,EAApB,EAAwBC,IAAxB,EAA8BC,YAA9B,EAA4C;AACxC,MAAID,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,IAAAA,IAAI,GAAG,EAAP;AAAY;;AACnC,MAAIC,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,IAAAA,YAAY,GAAG;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAf;AAAoC;;AACnE,MAAIC,UAAU,GAAGR,OAAO,CAACS,MAAR,CAAe,CAAf,CAAjB;AACA,MAAIC,SAAS,GAAGT,iBAAiB,CAACU,OAAlB,EAAhB;;AACA,MAAIC,EAAE,GAAGZ,OAAO,CAACa,QAAR,CAAiBP,YAAjB,CAAT;AAAA,MAAyCQ,KAAK,GAAGF,EAAE,CAAC,CAAD,CAAnD;AAAA,MAAwDG,GAAG,GAAGH,EAAE,CAAC,CAAD,CAAhE;;AACA,MAAII,QAAQ,GAAGhB,OAAO,CAACiB,WAAR,CAAoB,YAAY;AAC3C,QAAIC,IAAI,GAAG,EAAX;;AACA,SAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;AAC1CD,MAAAA,IAAI,CAACC,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;AACH;;AACD,QAAIG,MAAM,GAAG,EAAEd,UAAU,CAACe,OAA1B;AACAR,IAAAA,GAAG,CAAC,UAAUS,SAAV,EAAqB;AAAE,aAAQ1B,OAAO,CAAC2B,QAAR,CAAiB3B,OAAO,CAAC2B,QAAR,CAAiB,EAAjB,EAAqBD,SAArB,CAAjB,EAAkD;AAAEjB,QAAAA,OAAO,EAAE;AAAX,OAAlD,CAAR;AAAgF,KAAxG,CAAH;AACA,WAAOH,EAAE,CAACsB,KAAH,CAAS,KAAK,CAAd,EAAiBR,IAAjB,EAAuBS,IAAvB,CAA4B,UAAU9B,KAAV,EAAiB;AAChDa,MAAAA,SAAS,MAAMY,MAAM,KAAKd,UAAU,CAACe,OAArC,IAAgDR,GAAG,CAAC;AAAElB,QAAAA,KAAK,EAAEA,KAAT;AAAgBU,QAAAA,OAAO,EAAE;AAAzB,OAAD,CAAnD;AACA,aAAOV,KAAP;AACH,KAHM,EAGJ,UAAU+B,KAAV,EAAiB;AAChBlB,MAAAA,SAAS,MAAMY,MAAM,KAAKd,UAAU,CAACe,OAArC,IAAgDR,GAAG,CAAC;AAAEa,QAAAA,KAAK,EAAEA,KAAT;AAAgBrB,QAAAA,OAAO,EAAE;AAAzB,OAAD,CAAnD;AACA,aAAOqB,KAAP;AACH,KANM,CAAP;AAOH,GAdc,EAcZvB,IAdY,CAAf;AAeA,SAAO,CAACS,KAAD,EAAQE,QAAR,CAAP;AACH;;AACDpB,OAAO,CAACe,OAAR,GAAkBR,UAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useMountedState_1 = tslib_1.__importDefault(require(\"./useMountedState\"));\nfunction useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = react_1.useRef(0);\n    var isMounted = useMountedState_1.default();\n    var _a = react_1.useState(initialState), state = _a[0], set = _a[1];\n    var callback = react_1.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        set(function (prevState) { return (tslib_1.__assign(tslib_1.__assign({}, prevState), { loading: true })); });\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\nexports.default = useAsyncFn;\n"]},"metadata":{},"sourceType":"script"}