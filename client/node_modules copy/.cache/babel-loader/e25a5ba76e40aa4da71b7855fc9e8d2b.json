{"ast":null,"code":"import React,{useEffect/* useState */}from\"react\";/* import Axios from \"axios\"; */import Fade from\"react-reveal/Fade\";/* import dataShop from \"../db/dataShop\"; */import Rating from\"./Rating\";import{Link}from\"react-router-dom\";import LoadingBox from\"./LoadingBox\";import MessageBox from\"./MessageBox\";import{useSelector,useDispatch}from\"react-redux\";import{listProducts}from\"../Actions/productActions\";export default function Shop(){//React Hooks\n/* const [products,setProducts]= useState([ ])\n  const [loading, setLoading]=useState(false)\n  const [error, setError]=useState(false) */var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;// useEffects accepts two parameters: a function and an array \nuseEffect(function(){/* const fetchData= async()=>{\n      try{\n        setLoading(true);\n        const {data}=await axios.get('/api/Shop')\n        setLoading(false);\n        setProducts(data);\n      }\n      catch(err){\n        setError(err.message);\n        setLoading(false)\n      }\n    }\n    fetchData() */dispatch(listProducts());},[]);//it's gonna run just one time\nreturn/*#__PURE__*/React.createElement(Fade,{bottom:true,cascade:true},loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(\"div\",{className:\"cardContainer\"},/* dataShop. */products.map(function(product){return/*#__PURE__*/React.createElement(\"div\",{key:product._id,className:\"card\"},/*#__PURE__*/React.createElement(Link,{to:\"./Shop/\".concat(product._id)},/*#__PURE__*/React.createElement(\"img\",{className:\"medium\",src:product.image,alt:product.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(Link,{to:\"/Shop/\".concat(product._id)},/*#__PURE__*/React.createElement(\"h2\",null,product.name)),/*#__PURE__*/React.createElement(Rating,{rating:product.rating,numReviews:product.numReviews}),/*#__PURE__*/React.createElement(\"div\",{className:\"price\"},/*#__PURE__*/React.createElement(\"h3\",null,product.price,\" \\u20AC\")),/*#__PURE__*/React.createElement(\"br\",null)));})),/*#__PURE__*/React.createElement(\"div\",{className:\"Footer\"}));}","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/src/Components/Shop.js"],"names":["React","useEffect","Fade","Rating","Link","LoadingBox","MessageBox","useSelector","useDispatch","listProducts","Shop","dispatch","productList","state","loading","error","products","map","product","_id","image","name","rating","numReviews","price"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAW,cAA3B,KAAiD,OAAjD,CACA,gCACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,4CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,KAA6B,2BAA7B,CAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAC7B;AACA;AACF;AACA,4CACE,GAAMC,CAAAA,QAAQ,CAAGH,WAAW,EAA5B,CACA,GAAMI,CAAAA,WAAW,CAAGL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACD,WAAV,EAAN,CAA/B,CAN6B,GAOtBE,CAAAA,OAPsB,CAOIF,WAPJ,CAOtBE,OAPsB,CAOdC,KAPc,CAOIH,WAPJ,CAOdG,KAPc,CAORC,QAPQ,CAOIJ,WAPJ,CAORI,QAPQ,CAS7B;AACAf,SAAS,CAAC,UAAI,CACZ;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBACIU,QAAQ,CAACF,YAAY,EAAb,CAAR,CAED,CAhBQ,CAgBP,EAhBO,CAAT,CAgBK;AACL,mBACE,oBAAC,IAAD,EAAM,MAAM,KAAZ,CAAa,OAAO,CAAE,IAAtB,EACGK,OAAO,cAAE,oBAAC,UAAD,MAAF,CAERC,KAAK,cAAC,oBAAC,UAAD,EAAY,OAAO,CAAC,QAApB,EAA8BA,KAA9B,CAAD,cAEL,2BAAK,SAAS,CAAC,eAAf,EACG,eAAeC,QAAQ,CAACC,GAAT,CAAa,SAACC,OAAD,CAAa,CACxC,mBAEE,2BAAK,GAAG,CAAEA,OAAO,CAACC,GAAlB,CAAuB,SAAS,CAAC,MAAjC,eACE,oBAAC,IAAD,EAAM,EAAE,kBAAYD,OAAO,CAACC,GAApB,CAAR,eAEE,2BACE,SAAS,CAAC,QADZ,CAEE,GAAG,CAAED,OAAO,CAACE,KAFf,CAGE,GAAG,CAAEF,OAAO,CAACG,IAHf,EAFF,CADF,cASE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,IAAD,EAAM,EAAE,iBAAWH,OAAO,CAACC,GAAnB,CAAR,eACE,8BAAKD,OAAO,CAACG,IAAb,CADF,CADF,cAIE,oBAAC,MAAD,EACE,MAAM,CAAEH,OAAO,CAACI,MADlB,CAEE,UAAU,CAAEJ,OAAO,CAACK,UAFtB,EAJF,cAQE,2BAAK,SAAS,CAAC,OAAf,eAAuB,8BAAKL,OAAO,CAACM,KAAb,WAAvB,CARF,cASE,8BATF,CATF,CAFF,CA0BD,CA3Be,CADlB,CALF,cAqCA,2BAAK,SAAS,CAAC,QAAf,EArCA,CADF,CAyCD","sourcesContent":["import React, { useEffect, /* useState */ } from \"react\";\n/* import Axios from \"axios\"; */\nimport Fade from \"react-reveal/Fade\";\n/* import dataShop from \"../db/dataShop\"; */\nimport Rating from \"./Rating\";\nimport { Link } from \"react-router-dom\";\nimport LoadingBox from \"./LoadingBox\";\nimport MessageBox from \"./MessageBox\";\nimport { useSelector, useDispatch } from \"react-redux\"\nimport { listProducts } from \"../Actions/productActions\";\n\nexport default function Shop() {\n  //React Hooks\n  /* const [products,setProducts]= useState([ ])\n  const [loading, setLoading]=useState(false)\n  const [error, setError]=useState(false) */\n  const dispatch = useDispatch()\n  const productList = useSelector(state => state.productList)\n  const {loading,error,products} = productList\n\n  // useEffects accepts two parameters: a function and an array \n  useEffect(()=>{\n    /* const fetchData= async()=>{\n      try{\n        setLoading(true);\n        const {data}=await axios.get('/api/Shop')\n        setLoading(false);\n        setProducts(data);\n      }\n      catch(err){\n        setError(err.message);\n        setLoading(false)\n      }\n    }\n    fetchData() */\n    dispatch(listProducts())\n\n  },[])//it's gonna run just one time\n  return (\n    <Fade bottom cascade={true}>\n      {loading? <LoadingBox></LoadingBox>\n      :\n      error?<MessageBox variant=\"danger\">{error}</MessageBox>\n    :(\n      <div className=\"cardContainer\">\n        {/* dataShop. */products.map((product) => {\n          return (\n            \n            <div key={product._id} className=\"card\">\n              <Link to={`./Shop/${product._id}` }  >\n                {/* image size 680px by 830px */}\n                <img\n                  className=\"medium\"\n                  src={product.image}\n                  alt={product.name}\n                />\n              </Link>\n              <div className=\"card-body\">\n                <Link to={`/Shop/${product._id}`}>\n                  <h2>{product.name}</h2>\n                  </Link>\n                <Rating\n                  rating={product.rating}\n                  numReviews={product.numReviews}\n                ></Rating>\n                <div className=\"price\"><h3>{product.price} â‚¬</h3></div>\n                <br></br>\n              </div>\n            \n            </div>\n            \n          );\n        })}\n      </div>\n      \n    )}\n    <div className=\"Footer\"></div>\n    </Fade>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}