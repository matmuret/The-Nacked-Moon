{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = require(\"react\");\n\nvar useUpdateEffect_1 = tslib_1.__importDefault(require(\"./useUpdateEffect\"));\n\nfunction composeMiddleware(chain) {\n  return function (context, dispatch) {\n    return chain.reduceRight(function (res, middleware) {\n      return middleware(context)(res);\n    }, dispatch);\n  };\n}\n\nvar createReducer = function () {\n  var middlewares = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    middlewares[_i] = arguments[_i];\n  }\n\n  var composedMiddleware = composeMiddleware(middlewares);\n  return function (reducer, initialState, initializer) {\n    if (initializer === void 0) {\n      initializer = function (value) {\n        return value;\n      };\n    }\n\n    var ref = react_1.useRef(initializer(initialState));\n\n    var _a = react_1.useState(ref.current),\n        setState = _a[1];\n\n    var dispatch = react_1.useCallback(function (action) {\n      ref.current = reducer(ref.current, action);\n      setState(ref.current);\n      return action;\n    }, [reducer]);\n    var dispatchRef = react_1.useRef(composedMiddleware({\n      getState: function () {\n        return ref.current;\n      },\n      dispatch: function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return dispatchRef.current.apply(dispatchRef, args);\n      }\n    }, dispatch));\n    useUpdateEffect_1.default(function () {\n      dispatchRef.current = composedMiddleware({\n        getState: function () {\n          return ref.current;\n        },\n        dispatch: function () {\n          var args = [];\n\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n\n          return dispatchRef.current.apply(dispatchRef, args);\n        }\n      }, dispatch);\n    }, [dispatch]);\n    return [ref.current, dispatchRef.current];\n  };\n};\n\nexports.default = createReducer;","map":{"version":3,"sources":["/Users/filippo/Documents/DCI/myProjects/TheNakedMoon/Frontend/node_modules/react-use/lib/createReducer.js"],"names":["Object","defineProperty","exports","value","tslib_1","require","react_1","useUpdateEffect_1","__importDefault","composeMiddleware","chain","context","dispatch","reduceRight","res","middleware","createReducer","middlewares","_i","arguments","length","composedMiddleware","reducer","initialState","initializer","ref","useRef","_a","useState","current","setState","useCallback","action","dispatchRef","getState","args","apply","default"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar useUpdateEffect_1 = tslib_1.__importDefault(require(\"./useUpdateEffect\"));\nfunction composeMiddleware(chain) {\n    return function (context, dispatch) {\n        return chain.reduceRight(function (res, middleware) {\n            return middleware(context)(res);\n        }, dispatch);\n    };\n}\nvar createReducer = function () {\n    var middlewares = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        middlewares[_i] = arguments[_i];\n    }\n    var composedMiddleware = composeMiddleware(middlewares);\n    return function (reducer, initialState, initializer) {\n        if (initializer === void 0) { initializer = function (value) { return value; }; }\n        var ref = react_1.useRef(initializer(initialState));\n        var _a = react_1.useState(ref.current), setState = _a[1];\n        var dispatch = react_1.useCallback(function (action) {\n            ref.current = reducer(ref.current, action);\n            setState(ref.current);\n            return action;\n        }, [reducer]);\n        var dispatchRef = react_1.useRef(composedMiddleware({\n            getState: function () { return ref.current; },\n            dispatch: function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return dispatchRef.current.apply(dispatchRef, args);\n            },\n        }, dispatch));\n        useUpdateEffect_1.default(function () {\n            dispatchRef.current = composedMiddleware({\n                getState: function () { return ref.current; },\n                dispatch: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    return dispatchRef.current.apply(dispatchRef, args);\n                },\n            }, dispatch);\n        }, [dispatch]);\n        return [ref.current, dispatchRef.current];\n    };\n};\nexports.default = createReducer;\n"]},"metadata":{},"sourceType":"script"}